(()=>{"use strict";const e="cardMarketCardLanguages",a="cardMarketSellerLocations";class t{static load=async()=>{let{settings:t}=await chrome.storage.sync.get("settings");return t||(t={},t.googleSpreadSheetId="",t.hidePrices=!1,t.marketPlaceLinks="none",t[e]=[],t[a]=[],t.cardMarketMinCondition=2,t.ebayUrl="",t.ebayListingType="all",t.ebaySortBy="best_match"),t};static save=async e=>{const a=Object.fromEntries(e.entries());t.getPropertiesWithMultipleValues().forEach((t=>{a[t]=e.getAll(t)})),await chrome.storage.sync.set({settings:a})};static getPropertiesWithMultipleValues=()=>[e,a]}(async()=>{const e=await t.load();if("cardMarket"!==e.marketPlaceLinks)return;if(0!==new URLSearchParams(window.location.search).size)return;const a={};e.cardMarketMinCondition&&(a.minCondition=e.cardMarketMinCondition),e.cardMarketCardLanguages&&(a.language=e.cardMarketCardLanguages),e.cardMarketSellerLocations&&(a.sellerCountry=e.cardMarketSellerLocations),window.location.replace(`${window.location.href.replace(/\/$/,"")}?${new URLSearchParams(a).toString()}`)})()})();