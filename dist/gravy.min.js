(()=>{"use strict";const t="cardMarketCardLanguages",e="cardMarketSellerLocations";class a{constructor(t){this.storage=t}getGoogleSpreadSheetId=()=>this.storage.googleSpreadSheetId||"";hidePrices=()=>this.storage.hidePrices||!1;getMarketPlaceLinks=()=>this.storage.marketPlaceLinks||"none";getCardMarketCardLanguages=()=>this.storage[t]||[];getCardMarketSellerLocations=()=>this.storage[e]||[];getCardMarketMinCondition=()=>this.storage.cardMarketMinCondition||2;getEbayUrl=()=>this.storage.ebayUrl||"";getEbayListingType=()=>this.storage.ebayListingType||"all";getEbaySortBy=()=>this.storage.ebaySortBy||"best_match";get=t=>this.storage[t]||[];static getSettingsWithMultipleValues=()=>[t,e];static fromSyncStorage=async()=>{let{settings:t}=await chrome.storage.sync.get("settings");return new a(t||{})};static save=async t=>{const e=Object.fromEntries(t.entries());a.getSettingsWithMultipleValues().forEach((a=>{e[a]=t.getAll(a)})),await chrome.storage.sync.set({settings:e})}}(async()=>{const t=await a.fromSyncStorage();if("cardMarket"!==t.getMarketPlaceLinks())return;if(0!==new URLSearchParams(window.location.search).size)return;const e={};t.getCardMarketMinCondition()&&(e.minCondition=t.getCardMarketMinCondition()),t.getCardMarketCardLanguages()&&(e.language=t.getCardMarketCardLanguages()),t.getCardMarketSellerLocations()&&(e.sellerCountry=t.getCardMarketSellerLocations()),window.location.replace(`${window.location.href.replace(/\/$/,"")}?${new URLSearchParams(e).toString()}`)})()})();