(()=>{"use strict";const e="googleSpreadSheetId",t="hidePrices",a="marketPlaceLinks",s="cardMarketCardLanguages",l="cardMarketSellerLocations",r="cardMarketMinCondition",c="ebayUrl",o="ebayListingType",n="ebaySortBy";class i{static load=async()=>{let{settings:i}=await chrome.storage.sync.get("settings");return i||(i={},i[e]="",i[t]=!1,i[a]="none",i[s]=[],i[l]=[],i[r]=2,i[c]="",i[o]="all",i[n]="best_match"),i};static save=async e=>{const t=Object.fromEntries(e.entries());i.getPropertiesWithMultipleValues().forEach((a=>{t[a]=e.getAll(a)})),await chrome.storage.sync.set({settings:t})};static getPropertiesWithMultipleValues=()=>[s,l]}(async()=>{const s=await i.load(),l=document.querySelector("form");l.elements[e].value=s[e],l.elements[t].checked=s[t],l.elements[a].value=s[a],l.elements[r].value=s[r],l.elements[c].value=s[c],l.elements[o].value=s[o],l.elements[n].value=s[n],i.getPropertiesWithMultipleValues().forEach((e=>{s[e].forEach((t=>{l.elements[e+"["+t+"]"].checked=!0}))}));const g=l.querySelector("input[data-target-toggle]:checked").getAttribute("data-target-toggle");g&&(l.querySelector('[data-toggle-id="'+g+'"]').style.display="flex"),l.addEventListener("input",(function(e){const t=e.target;if(t.hasAttribute("data-target-toggle")){l.querySelectorAll("[data-toggle-id]").forEach((function(e){e.style.display="none"}));const e=t.getAttribute("data-target-toggle");t.checked&&e&&(l.querySelector('[data-toggle-id="'+e+'"]').style.display="flex")}})),l.addEventListener("submit",(async e=>{e.preventDefault();const t=new FormData(l);await i.save(t),chrome.tabs.query({url:"https://www.tcgcollector.com/*"},(([e])=>{chrome.tabs.update(e.id,{url:e.url})}))}))})()})();