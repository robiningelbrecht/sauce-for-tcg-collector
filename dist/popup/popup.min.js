(()=>{"use strict";const e="googleSpreadSheetId",t="hidePrices",a="marketPlaceLinks",r="cardMarketCardLanguages",s="cardMarketSellerLocations",l="cardMarketMinCondition";class c{static load=async()=>{let{settings:c}=await chrome.storage.sync.get("settings");return c||(c={},c[e]="",c[t]=!1,c[a]="none",c[r]=[],c[s]=[],c[l]=2),c};static save=async e=>{const t=Object.fromEntries(e.entries());c.getPropertiesWithMultipleValues().forEach((a=>{t[a]=e.getAll(a)})),await chrome.storage.sync.set({settings:t})};static getPropertiesWithMultipleValues=()=>[r,s]}(async()=>{const r=await c.load(),s=document.querySelector("form");s.elements[e].value=r[e],s.elements[t].checked=r[t],s.elements[a].value=r[a],s.elements[l].value=r[l],c.getPropertiesWithMultipleValues().forEach((e=>{r[e].forEach((t=>{s.elements[e+"["+t+"]"].checked=!0}))}));const o=s.querySelector("input[data-target-toggle]:checked").getAttribute("data-target-toggle");o&&(s.querySelector('[data-toggle-id="'+o+'"]').style.display="flex"),s.addEventListener("input",(function(e){const t=e.target;if(t.hasAttribute("data-target-toggle")){s.querySelectorAll("[data-toggle-id]").forEach((function(e){e.style.display="none"}));const e=t.getAttribute("data-target-toggle");t.checked&&e&&(s.querySelector('[data-toggle-id="'+e+'"]').style.display="flex")}})),s.addEventListener("submit",(async e=>{e.preventDefault();const t=new FormData(s);await c.save(t),chrome.tabs.query({url:"https://www.tcgcollector.com/*"},(([e])=>{chrome.tabs.update(e.id,{url:e.url})}))}))})()})();