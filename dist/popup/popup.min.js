(()=>{"use strict";const e="googleSpreadSheetId",t="hidePrices",a="marketPlaceLinks",r="cardMarketCardLanguages",s="cardMarketSellerLocations",l="cardMarketMinCondition",c="ebayUrl";class o{static load=async()=>{let{settings:o}=await chrome.storage.sync.get("settings");return o||(o={},o[e]="",o[t]=!1,o[a]="none",o[r]=[],o[s]=[],o[l]=2,o[c]=""),o};static save=async e=>{const t=Object.fromEntries(e.entries());o.getPropertiesWithMultipleValues().forEach((a=>{t[a]=e.getAll(a)})),await chrome.storage.sync.set({settings:t})};static getPropertiesWithMultipleValues=()=>[r,s]}(async()=>{const r=await o.load(),s=document.querySelector("form");s.elements[e].value=r[e],s.elements[t].checked=r[t],s.elements[a].value=r[a],s.elements[l].value=r[l],s.elements[c].value=r[c],o.getPropertiesWithMultipleValues().forEach((e=>{r[e].forEach((t=>{s.elements[e+"["+t+"]"].checked=!0}))}));const n=s.querySelector("input[data-target-toggle]:checked").getAttribute("data-target-toggle");n&&(s.querySelector('[data-toggle-id="'+n+'"]').style.display="flex"),s.addEventListener("input",(function(e){const t=e.target;if(t.hasAttribute("data-target-toggle")){s.querySelectorAll("[data-toggle-id]").forEach((function(e){e.style.display="none"}));const e=t.getAttribute("data-target-toggle");t.checked&&e&&(s.querySelector('[data-toggle-id="'+e+'"]').style.display="flex")}})),s.addEventListener("submit",(async e=>{e.preventDefault();const t=new FormData(s);await o.save(t),chrome.tabs.query({url:"https://www.tcgcollector.com/*"},(([e])=>{chrome.tabs.update(e.id,{url:e.url})}))}))})()})();