/*! For license information please see sauce.min.js.LICENSE.txt */
(()=>{var t,e,s,i,o={100:(t,e,s)=>{const i=s(681),o=async t=>new Promise(((e,s)=>{const o=i.request(t,(t=>{const s=[];let i=!1;t.on("data",(t=>{if(!i&&!String(t).startsWith("/*O_o*/"))return e(null);i=!0,s.push(t)})),t.on("end",(()=>{e({ok:!0,text:()=>Buffer.concat(s).toString()})}))}));o.on("error",s),o.end()}));t.exports=o,t.exports.default=o},908:(t,e,s)=>{const i="undefined"!=typeof window&&void 0!==window.document?window.fetch:s(100);class o{constructor(t,e){this.id=t,this.setOption(e)}setOption(t){t?"string"==typeof t?(this.sheetName=t,this.sheetId=this.sheetId||null):"object"==typeof t&&(this.sheetName=t.sheetName||this.sheetName,this.sheetId=t.sheetId||this.sheetId,this.useFormattedDate=t.hasOwnProperty("useFormattedDate")?t.useFormattedDate:this.useFormattedDate,this.useFormat=t.hasOwnProperty("useFormat")?t.useFormat:this.useFormat):(this.sheetName=this.sheetName||null,this.sheetId=this.sheetId||null,this.useFormattedDate=this.useFormattedDate||!1,this.useFormat=this.useFormat||!1)}isDate(t){return t&&"string"==typeof t&&/Date\((\d+),(\d+),(\d+)\)/.test(t)}async getSpreadsheetDataUsingFetch(){if(!this.id)return null;let t=`https://docs.google.com/spreadsheets/d/${this.id}/gviz/tq?`;t+=this.sheetId?`gid=${this.sheetId}`:`sheet=${this.sheetName}`;try{const e=await i(t);return e&&e.ok?e.text():null}catch(t){return console.error("Error fetching spreadsheet data:",t),null}}normalizeRow(t){return t.map((t=>t&&null!==t.v&&void 0!==t.v?t:{}))}applyHeaderIntoRows(t,e){return e.map((({c:t})=>this.normalizeRow(t))).map((e=>e.reduce(((e,s,i)=>null!==s.v&&void 0!==s.v?Object.assign(e,{[t[i]]:this.useFormat?s.f||s.v:this.useFormattedDate&&this.isDate(s.v)&&s.f||s.v}):e),{})))}getItems(t){let e=[];try{const s=/google\.visualization\.Query\.setResponse\(({.*})\);/,[i,o]=t.match(s),n=JSON.parse(o);if(n.table.cols.some((({label:t})=>!!t))){const t=n.table.cols.map((({label:t})=>t));e=this.applyHeaderIntoRows(t,n.table.rows)}else{const[t,...s]=n.table.rows,i=this.normalizeRow(t.c).map((t=>t.v));e=this.applyHeaderIntoRows(i,s)}}catch(t){console.error("Error parsing spreadsheet data:",t)}return e}async parse(t,e){if(t&&(this.id=t),e&&this.setOption(e),!this.id)throw new Error("SpreadsheetId is required.");const s=await this.getSpreadsheetDataUsingFetch();return null===s?[]:this.getItems(s)}}t.exports=o,t.exports.default=o},736:function(t){var e;e=function(t){var e=function(t){return new e.lib.init(t)};function s(t,e){return e.offset[t]?isNaN(e.offset[t])?e.offset[t]:e.offset[t]+"px":"0px"}function i(t,e){return!(!t||"string"!=typeof e||!(t.className&&t.className.trim().split(/\s+/gi).indexOf(e)>-1))}return e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:"1.12.0",constructor:e,init:function(t){return t||(t={}),this.options={},this.toastElement=null,this.options.text=t.text||e.defaults.text,this.options.node=t.node||e.defaults.node,this.options.duration=0===t.duration?0:t.duration||e.defaults.duration,this.options.selector=t.selector||e.defaults.selector,this.options.callback=t.callback||e.defaults.callback,this.options.destination=t.destination||e.defaults.destination,this.options.newWindow=t.newWindow||e.defaults.newWindow,this.options.close=t.close||e.defaults.close,this.options.gravity="bottom"===t.gravity?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=t.positionLeft||e.defaults.positionLeft,this.options.position=t.position||e.defaults.position,this.options.backgroundColor=t.backgroundColor||e.defaults.backgroundColor,this.options.avatar=t.avatar||e.defaults.avatar,this.options.className=t.className||e.defaults.className,this.options.stopOnFocus=void 0===t.stopOnFocus?e.defaults.stopOnFocus:t.stopOnFocus,this.options.onClick=t.onClick||e.defaults.onClick,this.options.offset=t.offset||e.defaults.offset,this.options.escapeMarkup=void 0!==t.escapeMarkup?t.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=t.ariaLive||e.defaults.ariaLive,this.options.style=t.style||e.defaults.style,t.backgroundColor&&(this.options.style.background=t.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var t=document.createElement("div");for(var e in t.className="toastify on "+this.options.className,this.options.position?t.className+=" toastify-"+this.options.position:!0===this.options.positionLeft?(t.className+=" toastify-left",console.warn("Property `positionLeft` will be depreciated in further versions. Please use `position` instead.")):t.className+=" toastify-right",t.className+=" "+this.options.gravity,this.options.backgroundColor&&console.warn('DEPRECATION NOTICE: "backgroundColor" is being deprecated. Please use the "style.background" property.'),this.options.style)t.style[e]=this.options.style[e];if(this.options.ariaLive&&t.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)t.appendChild(this.options.node);else if(this.options.escapeMarkup?t.innerText=this.options.text:t.innerHTML=this.options.text,""!==this.options.avatar){var i=document.createElement("img");i.src=this.options.avatar,i.className="toastify-avatar","left"==this.options.position||!0===this.options.positionLeft?t.appendChild(i):t.insertAdjacentElement("afterbegin",i)}if(!0===this.options.close){var o=document.createElement("button");o.type="button",o.setAttribute("aria-label","Close"),o.className="toast-close",o.innerHTML="&#10006;",o.addEventListener("click",function(t){t.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var n=window.innerWidth>0?window.innerWidth:screen.width;("left"==this.options.position||!0===this.options.positionLeft)&&n>360?t.insertAdjacentElement("afterbegin",o):t.appendChild(o)}if(this.options.stopOnFocus&&this.options.duration>0){var a=this;t.addEventListener("mouseover",(function(e){window.clearTimeout(t.timeOutValue)})),t.addEventListener("mouseleave",(function(){t.timeOutValue=window.setTimeout((function(){a.removeElement(t)}),a.options.duration)}))}if(void 0!==this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),!0===this.options.newWindow?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),"function"==typeof this.options.onClick&&void 0===this.options.destination&&t.addEventListener("click",function(t){t.stopPropagation(),this.options.onClick()}.bind(this)),"object"==typeof this.options.offset){var r=s("x",this.options),c=s("y",this.options),d="left"==this.options.position?r:"-"+r,l="toastify-top"==this.options.gravity?c:"-"+c;t.style.transform="translate("+d+","+l+")"}return t},showToast:function(){var t;if(this.toastElement=this.buildToast(),!(t="string"==typeof this.options.selector?document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||"undefined"!=typeof ShadowRoot&&this.options.selector instanceof ShadowRoot?this.options.selector:document.body))throw"Root element is not defined";var s=e.defaults.oldestFirst?t.firstChild:t.lastChild;return t.insertBefore(this.toastElement,s),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(t){t.className=t.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),t.parentNode&&t.parentNode.removeChild(t),this.options.callback.call(t),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var t,e={top:15,bottom:15},s={top:15,bottom:15},o={top:15,bottom:15},n=document.getElementsByClassName("toastify"),a=0;a<n.length;a++){t=!0===i(n[a],"toastify-top")?"toastify-top":"toastify-bottom";var r=n[a].offsetHeight;t=t.substr(9,t.length-1),(window.innerWidth>0?window.innerWidth:screen.width)<=360?(n[a].style[t]=o[t]+"px",o[t]+=r+15):!0===i(n[a],"toastify-left")?(n[a].style[t]=e[t]+"px",e[t]+=r+15):(n[a].style[t]=s[t]+"px",s[t]+=r+15)}return this},e.lib.init.prototype=e.lib,e},t.exports?t.exports=e():this.Toastify=e()},979:(t,e,s)=>{"use strict";s.d(e,{y:()=>n});var i=s(736),o=s.n(i);class n{constructor(t,e){this.type=t,this.message=e}static error=t=>new n("error",t);static success=t=>new n("success",t);show=()=>{o()({text:`<div><h3>Sauce for TCG Collector</h3><span>${this.message}</span></div>`,className:this.type,duration:1e4,destination:"#",newWindow:!1,close:!0,gravity:"bottom",position:"center",stopOnFocus:!0,escapeMarkup:!1}).showToast()}}},245:(t,e,s)=>{"use strict";s.d(e,{l:()=>i});class i{constructor(t){this.name=t}isAll(){return"all"===this.name}filterRows(t,e=!1){return this.isAll()&&!e?t:t.filter((t=>t.region===this.name))}buildUri(t){return this.isAll()?t.replace("[REGION]",""):t.replace("[REGION]","/"+this.name)}static fromCurrentUrl(){const t=window.location.href.replace("#","");return 4===t.split("/").length?new i("all"):new i(t.split("/").slice(-1)[0])}}},203:(t,e,s)=>{"use strict";s.d(e,{T:()=>o});var i=s(384);class o{constructor(t,e){this.settings=t,this.currentRegion=e}getId=()=>"collection-history-feature";needsToBeAppliedForLocation=t=>t.pathname.includes("/dashboard");apply=async()=>{const t=new i.V(this.settings.getGoogleSpreadSheetId(),"Collection history"),e=this.currentRegion.filterRows(await t.parse(),!0);if(0===e.length)return;const s=document.querySelector("main#page-content"),o=document.createElement("a");o.setAttribute("href","#modal"),o.classList.add("button","button-primary","chart-modal"),o.innerHTML='<span class="fa-solid fa-chart-line"></span>',document.querySelector("div#tcg-region-button-group-container").appendChild(o);const n=document.createElement("section");n.classList.add("modal-window"),n.id="modal",n.innerHTML='<a class="modal-overlay" aria-hidden="true" href="#" tabindex="-1"></a>\n                          <div class="modal-content">\n                            <a title="Close modal" aria-label="Close modal" href="#" class="modal-close">&times; </a>\n                            <h2 id="modal-title">Collection history</h2>\n                            <div class="chart"></div>\n                          </div>',s.appendChild(n);const a=echarts.init(n.querySelector(".modal-content .chart"));e.sort((function(t,e){const s=new Date(t.date),i=new Date(e.date);return s<i?-1:s>i?1:0}));const r=e[e.length-1],c={animation:!1,tooltip:{trigger:"axis",valueFormatter:t=>t,backgroundColor:"#181A1B",axisPointer:{label:{formatter:function(t){return new Date(t.value).toLocaleDateString()}}}},legend:{textStyle:{color:"#d8d4cf"}},xAxis:{type:"time",axisLabel:{formatter:{year:"{yyyy}",month:"{MMM}",day:"{d} {MMM}",hour:"",minute:"",second:"",millisecond:"",none:""},color:"#d8d4cf"}},yAxis:[{axisLabel:{formatter:function(t,e){return t},color:"#d8d4cf"},splitLine:{show:!1}}],series:[{name:`Unique cards (${r.uniqueCards})`,type:"line",data:e.map((t=>[t.date,t.uniqueCards]))},{name:`Unique variants (${r.uniqueVariants})`,type:"line",data:e.map((t=>[t.date,t.uniqueVariants]))},{name:`Total cards (${r.totalCards})`,type:"line",data:e.map((t=>[t.date,t.totalCards]))},{name:`Total value ($${r.totalValue})`,type:"line",tooltip:{valueFormatter:t=>"$"+t},data:e.map((t=>[t.date,t.totalValue]))}]};a.setOption(c)}}},334:(t,e,s)=>{"use strict";s.d(e,{c:()=>i});class i{constructor(){}getId=()=>"dashboard-rearrangement-feature";needsToBeAppliedForLocation=t=>t.pathname.includes("/dashboard");apply=async()=>{const[t,e]=document.querySelectorAll("div.dashboard-sections-region");t.querySelector("div#dashboard-expansions-completed-section").style.display="none",e.style.display="none",t.appendChild(e.querySelectorAll("div.dashboard-sections-subregion")[1].querySelector("div.dashboard-section"))}}},545:(t,e,s)=>{"use strict";s.d(e,{B:()=>o});var i=s(785);class o{constructor(t){this.settings=t}getId=()=>"hide-prices-feature";needsToBeAppliedForLocation=t=>this.settings.hidePrices();apply=()=>{(0,i.g)("*",/\$([\d]+\.?\d*)/g).forEach((t=>{t.innerHTML=t.innerHTML.replace(/\$([\d]+\.?\d*)/g,"$—")}))}}},629:(t,e,s)=>{"use strict";s.d(e,{B:()=>i});class i{constructor(t){this.settings=t}getId=()=>"new-menu-item-feature";needsToBeAppliedForLocation=t=>document.querySelectorAll("div#navbar-buttons").length>0;apply=()=>{const t=document.querySelector("div#navbar-buttons"),e=document.createElement("a");e.classList.add("navbar-button"),e.setAttribute("href","https://docs.google.com/spreadsheets/d/"+this.settings.getGoogleSpreadSheetId()),e.setAttribute("title","Navigate to spreadsheet"),e.setAttribute("target","_blank"),e.innerHTML='<span aria-hidden="true" class="fa-solid fa-file-csv"></span>',t.prepend(e)}}},256:(t,e,s)=>{"use strict";s.d(e,{O:()=>i});class i{constructor(){}getId=()=>"print-binder-placeholders-feature";needsToBeAppliedForLocation=t=>"/cards"===t.pathname||"/cards/intl"===t.pathname||"/cards/jp"===t.pathname||t.pathname.includes("/cards/jp/")||t.pathname.includes("/cards/intl/");apply=()=>{const t=document.body.innerHTML,e=/window.tcgcollector[\s]*=[\s]*{[\s]*appState:(.*),[\s]*}/im;if(!e.test(t))throw new Error("AppState could not be determined");const s=JSON.parse(t.match(e)[1]),i=s.cardIdToCardVariantTypeIdsMap,o=s.idToCardVariantTypeDtoMap,n=document.querySelectorAll("div#card-image-grid div.card-image-grid-item"),a=document.createElement("div");a.setAttribute("id","print"),n.forEach((t=>{const e=t.getAttribute("data-card-id"),s=t.querySelector("a").getAttribute("title").split("(")[0].trim(),n=t.querySelector("span.card-image-grid-item-info-overlay-text-part").innerText.trim();i[e].forEach((t=>{const e=o[t].name,i=document.createElement("div");i.classList.add("placeholder"),i.innerHTML=`<div>${s}</div><div>${n}</div><div>${e}</div>`,a.appendChild(i)}))})),document.body.appendChild(a);const r=document.createElement("button");r.classList.add("button","button-primary","print-placeholders"),r.setAttribute("title","Print binder placeholders"),r.innerHTML='<span class="fa-solid fa-print"></span><div>Print binder placeholders</div>',r.addEventListener("click",(()=>{document.body.classList.add("printing"),window.print()}));const c=document.querySelector("div#card-search-result-title");c.parentNode.insertBefore(r,c.nextSibling),addEventListener("afterprint",(()=>{document.body.classList.remove("printing")}))}}},362:(t,e,s)=>{"use strict";s.d(e,{P:()=>n});var i=s(384);class o{constructor(t){if(!t)throw new Error("Grading company name cannot be empty");this.name=t}getName=()=>this.name.toLowerCase();getLabel=()=>this.name;getGetCertUrl=t=>{if("psa"===this.getName())return`https://www.psacard.com/cert/${t}`;if("cgc"===this.getName())return`https://www.cgccards.com/certlookup/${t}`;throw new Error(`Unknown grading company ${this.name}`)}}class n{constructor(t){this.settings=t}getId=()=>"purchase-price-feature";needsToBeAppliedForLocation=t=>/cards\/[\d]+\/[\S]+/im.test(t.pathname);apply=async()=>{const t=document.querySelector("[data-card-id]").getAttribute("data-card-id"),e=document.createElement("div");e.classList.add("tcg-collector-card-prices-wrapper");const s=document.createElement("div");s.classList.add("tcg-collector-card-prices");const n=new i.V(this.settings.getGoogleSpreadSheetId(),"Slabs / Singles"),a=(await n.parse()).filter((e=>e.cardId===t));if(0===a.length)return e;a.forEach((function(t){const e=document.createElement("div");e.innerHTML=`<div>${t.purchaseDate}</div><div>${t.price}</div>`;try{const s=new o(t.gradingCompany);t.certNumber?e.innerHTML+=`\n<div class="grading">\n    <span>${t.type}</span>\n    <a href="${s.getGetCertUrl(t.certNumber)}" target="_blank" title="${s.getLabel()}" class="icon ${s.getName()}">\n        ${s.getLabel()}\n    </a>\n</div>`:e.innerHTML+=`\n<div class="grading">\n    <span>${t.type}</span>\n    <span title="${s.getLabel()}" class="icon ${s.getName()}">\n        ${s.getLabel()}\n    </span>\n</div>`}catch(s){e.innerHTML+=`<div>${t.type}</div>`}s.appendChild(e)}));const r=document.createElement("div");r.innerHTML="Purchase price(s)",r.classList.add("title"),e.appendChild(r),e.appendChild(s),document.querySelector("div#card-page-inner-content div.card-image-controls").appendChild(e)}}},125:(t,e,s)=>{"use strict";s.d(e,{Z:()=>o});var i=s(384);class o{constructor(t,e){this.settings=t,this.currentRegion=e}getId=()=>"quick-access-links-feature";needsToBeAppliedForLocation=t=>t.pathname.includes("/dashboard");apply=async()=>{const t=document.querySelectorAll("div.dashboard-section div.list-group")[1];t.innerHTML='<div class="loading-state-loading-spinner-underlay" style="display: flex; justify-content: center"><div class="loading-state-loading-spinner loading-spinner"></div></div>';const e=new i.V(this.settings.getGoogleSpreadSheetId(),"Slabs / Singles"),s=`/cards?releaseDateOrder=newToOld&cardsPerPage=120&displayAs=images&sortBy=cardNameAsc&cards=${this.currentRegion.filterRows(await e.parse()).filter((t=>"Single"===t.type)).map((t=>parseInt(t.cardId))).join(",")}`,o=new i.V(this.settings.getGoogleSpreadSheetId(),"Quick access links"),n=(await o.parse()).filter((t=>"TRUE"===t[this.currentRegion.name]));n.push({title:"Singles",url:s,icon:"fa-database"}),t.innerHTML="",n.forEach((e=>{const s=document.createElement("a");s.classList.add("list-group-item"),s.setAttribute("href",this.currentRegion.buildUri(e.url)),s.innerHTML=`\n        <span class="list-group-item-left-item-container">\n          <span aria-hidden="true" class="list-group-item-side-item-icon fa-solid ${e.icon} fa-fw"></span>\n        </span>\n        ${e.title}\n        <span class="list-group-item-right-item-container">\n          <span aria-hidden="true" class="list-group-item-side-item-icon fa-solid fa-chevron-right"></span>\n        </span>`,t.appendChild(s)}))}}},730:(t,e,s)=>{"use strict";s.d(e,{s:()=>o});var i=s(979);class o{constructor(t){this.settings=t}getId=()=>"display-japanese-prices-feature";needsToBeAppliedForLocation=t=>!this.settings.hidePrices()&&t.pathname.includes("/cards/jp/");apply=async()=>{const t=document.querySelector("#card-search-result-title-expansion-code").innerText.trim().toLowerCase(),e=document.createElement("button");e.setAttribute("type","button"),e.setAttribute("title","Re-sync prices"),e.classList.add("button","button-plain-alt"),e.innerHTML='<span aria-hidden="true" class="button-icon fa-solid fa-rotate fa-fw"></span> Prices',e.addEventListener("click",(()=>{chrome.runtime.sendMessage({cmd:"SyncJapanesePrices",payload:{expansionCode:t}}),i.y.success("Price update started. You can navigate away from this page.").show()}));const s=await chrome.runtime.sendMessage({cmd:"FetchJapanesePrices",payload:{expansionCode:t}});console.log(s),document.querySelector("div#cards-page-buttons").appendChild(e)}}},298:(t,e,s)=>{"use strict";s.d(e,{l:()=>o});class i{constructor(t){this.settings=t,"cardMarket"===this.settings.getMarketPlaceLinks()?this.iconUrl=chrome.runtime.getURL("dist/assets/card-market.jpg"):this.iconUrl=chrome.runtime.getURL("dist/assets/ebay.png")}buildFor=(t,e)=>{const s=document.createElement("a"),i=t.querySelector("a").getAttribute("title").split("(")[0].trim();if("cardMarket"===this.settings.getMarketPlaceLinks()){const o=parseInt(t.querySelector("span.card-image-grid-item-info-overlay-text-part").innerText.split("/")[0].replace(/\D/g,"").trim());return s.classList.add("market-place-link"),s.setAttribute("href",`https://www.cardmarket.com/en/Pokemon/Products/Search?searchString=${i}+${o}+${e}`),s.setAttribute("title","Find this card on cardmarket.com"),s.setAttribute("target","_blank"),s.innerHTML=`<img src="${this.iconUrl}" alt="Card market" />`,s}const o=t.querySelector("span.card-image-grid-item-info-overlay-text-part").innerText.trim(),n={_from:"R40"};return this.settings.getEbayListingType()&&(n["LH_"+this.settings.getEbayListingType()]=1),this.settings.getEbaySortBy()&&(n._sop=this.settings.getEbaySortBy()),s.classList.add("market-place-link"),s.setAttribute("href",`${this.settings.getEbayUrl().replace(/\/$/,"")}/sch/i.html?_nkw=${i}+${o}&${new URLSearchParams(n).toString()}`),s.setAttribute("title",`Find this card on ${this.settings.getEbayUrl()}`),s.setAttribute("target","_blank"),s.innerHTML=`<img src="${this.iconUrl}" alt="Ebay" />`,s}}class o{constructor(t){this.settings=t}getId=()=>"market-place-links-feature";needsToBeAppliedForLocation=t=>!!this.settings.getMarketPlaceLinks()&&"none"!==this.settings.getMarketPlaceLinks()&&("/cards"===t.pathname||"/cards/intl"===t.pathname||"/cards/jp"===t.pathname||t.pathname.includes("/cards/jp/")||t.pathname.includes("/cards/intl/"));apply=()=>{const t=document.querySelectorAll("div#card-image-grid div.card-image-grid-item"),e=document.querySelector("span#card-search-result-title-expansion-code")?.innerText||"",s=new i(this.settings);t.forEach((t=>{t.querySelector("div.card-image-controls-item").appendChild(s.buildFor(t,e))}))}}},384:(t,e,s)=>{"use strict";s.d(e,{V:()=>a});var i=s(908),o=s.n(i),n=s(785);class a{constructor(t,e){this.spreadSheetId=t,this.sheetName=e}parse=async()=>{const t=new(o())(this.spreadSheetId,{sheetName:this.sheetName,useFormat:!0});return(await t.parse()).map((t=>{const e={};return Object.keys(t).forEach((s=>{e[(0,n.P)(s)]=t[s]})),e}))}}},813:(t,e,s)=>{"use strict";s.d(e,{wB:()=>n});const i="cardMarketCardLanguages",o="cardMarketSellerLocations";class n{constructor(t){this.storage=t}getGoogleSpreadSheetId=()=>this.storage.googleSpreadSheetId||"";hidePrices=()=>this.storage.hidePrices||!1;getMarketPlaceLinks=()=>this.storage.marketPlaceLinks||"none";getCardMarketCardLanguages=()=>this.storage[i]||[];getCardMarketSellerLocations=()=>this.storage[o]||[];getCardMarketMinCondition=()=>this.storage.cardMarketMinCondition||2;getEbayUrl=()=>this.storage.ebayUrl||"";getEbayListingType=()=>this.storage.ebayListingType||"all";getEbaySortBy=()=>this.storage.ebaySortBy||"best_match";get=t=>this.storage[t]||[];static getSettingsWithMultipleValues=()=>[i,o];static fromSyncStorage=async()=>{let{settings:t}=await chrome.storage.sync.get("settings");return new n(t||{})};static save=async t=>{const e=Object.fromEntries(t.entries());n.getSettingsWithMultipleValues().forEach((s=>{e[s]=t.getAll(s)})),await chrome.storage.sync.set({settings:e})}}},917:(t,e,s)=>{"use strict";s.d(e,{_:()=>o,p:()=>i});const i=t=>{console.log(`%c${t}`,"color:#FA7035; background:#222;")},o=t=>{i(`\n   _____                         __             _______ _____ _____    _____      _ _           _               \n  / ____|                       / _|           |__   __/ ____/ ____|  / ____|    | | |         | |              \n | (___   __ _ _   _  ___ ___  | |_ ___  _ __     | | | |   | |  __  | |     ___ | | | ___  ___| |_ ___  _ __   \n  \\___ \\ / _\` | | | |/ __/ _ \\ |  _/ _ \\| '__|    | | | |   | | |_ | | |    / _ \\| | |/ _ \\/ __| __/ _ \\| '__|  \n  ____) | (_| | |_| | (_|  __/ | || (_) | |       | | | |___| |__| | | |___| (_) | | |  __/ (__| || (_) | |     \n |_____/ \\__,_|\\__,_|\\___\\___| |_| \\___/|_|       |_|  \\_____\\_____|  \\_____\\___/|_|_|\\___|\\___|\\__\\___/|_|     \n                                                                                                                \n  ${t.padEnd(110," ")}\n`)}},785:(t,e,s)=>{"use strict";s.d(e,{P:()=>i,g:()=>o});const i=t=>t.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(t,e){return 0===e?t.toLowerCase():t.toUpperCase()})).replace(/\s+/g,""),o=(t,e)=>[...document.querySelectorAll(t)].filter((t=>t.childNodes?.[0]?.nodeValue?.match(e)))},483:(t,e,s)=>{"use strict";s.a(t,(async(t,e)=>{try{var i=s(813),o=s(629),n=s(545),a=s(203),r=s(334),c=s(125),d=s(362),l=s(256),p=s(298),u=s(917),h=s(245),m=s(979),g=s(730);const t=await i.wB.fromSyncStorage(),f=h.l.fromCurrentUrl(),y=window.location;if(!t.getGoogleSpreadSheetId())throw m.y.error("Google Spreadsheet ID not configured").show(),new Error("Google Spreadsheet ID not configured");document.querySelector("a.navbar-logo-link img").setAttribute("src",chrome.runtime.getURL("dist/assets/tcgc-logo.png"));const _=new o.B(t),b=new n.B(t),w=new a.T(t,f),v=new r.c,L=new c.Z(t,f),k=new d.P(t),S=new l.O,E=[_,b,w,v,L,k,S,new p.l(t),new g.s(t)];(0,u._)("Applying that sweet sauce 🥫");const T=document.body;for(const t of E)if(t.needsToBeAppliedForLocation(y)){T.classList.add(t.getId());try{t.apply()}catch(t){m.y.error("Oops, something 🐟y is going on. Check console for details.").show(),(0,u.p)(t.stack)}}chrome.runtime.onMessage.addListener((function(t){"showToast"===t.cmd&&new m.y(t.payload.type,t.payload.msg).show()})),window.addEventListener("keydown",(t=>{"Escape"===t.key&&"#modal"===window.location.hash&&(window.location.hash="")})),e()}catch(t){e(t)}}),1)},681:()=>{}},n={};function a(t){var e=n[t];if(void 0!==e)return e.exports;var s=n[t]={exports:{}};return o[t].call(s.exports,s,s.exports,a),s.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",s="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=t=>{t&&t.d<1&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},a.a=(o,n,a)=>{var r;a&&((r=[]).d=-1);var c,d,l,p=new Set,u=o.exports,h=new Promise(((t,e)=>{l=e,d=t}));h[e]=u,h[t]=t=>(r&&t(r),p.forEach(t),h.catch((t=>{}))),o.exports=h,n((o=>{var n;c=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var n=[];n.d=0,o.then((t=>{a[e]=t,i(n)}),(t=>{a[s]=t,i(n)}));var a={};return a[t]=t=>t(n),a}}var r={};return r[t]=t=>{},r[e]=o,r})))(o);var a=()=>c.map((t=>{if(t[s])throw t[s];return t[e]})),d=new Promise((e=>{(n=()=>e(a)).r=0;var s=t=>t!==r&&!p.has(t)&&(p.add(t),t&&!t.d&&(n.r++,t.push(n)));c.map((e=>e[t](s)))}));return n.r?d:a()}),(t=>(t?l(h[s]=t):d(u),i(r)))),r&&r.d<0&&(r.d=0)},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a(483)})();